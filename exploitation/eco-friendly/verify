#!/usr/bin/exec-suid --real -- /usr/bin/python -I
import sys
sys.path.append('/challenge')

def print_flag():
    try:
        with open("/flag", "r") as f:
            flag = f.read()
            print(flag)
            return flag
    except FileNotFoundError:
        print("Error: Flag file not found.")

# Add your imports and other code below here
from flask import Flask, render_template, request, jsonify
import secrets

app = Flask(__name__)


@app.route('/call-python', methods=['POST'])
def call_python():
	result = print_flag()
	return jsonify({'flag': result})

@app.route('/', methods=['GET', 'POST'])
def index():
	message = ""
	if request.method == 'POST':
		message = request.form['textbox']
	return render_template('index.html', message=message)

if __name__ == '__main__':
	app.run()
