<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ name }}'s Page</title>
</head>
<script src="{{ url_for('static', filename='app.js') }}"></script>

<body>
    <h1>{{ name }}</h1>
    <p><b>About:</b> {{ bio | safe }}</p>
    <p><b>Likes:</b> {{ likes }}</p>
    <p><b>Dislikes:</b> {{ dislikes }}</p>
    {% if personInfo is defined %}
    <p><b>PersonInfo:</b> {{ personInfo }}</p>
    {% endif %}

    <form id="updateForm">
        <input type="text" name="name" hidden value="{{ name }}"></input>
        <input type="text" name="item" placeholder="New info category" required></br>
		<textarea name="info" placeholder="New info" required></textarea></br>

        <button type="submit">Update Dude!</button>
    </form>
    <script>
        let info = {{ personInfo | tojson }};
        document.getElementById('updateForm').addEventListener('submit', function(event) {
            updatePerson(event, info);
        });
        loadDirectory().then(directory => {
            console.log("directory: ", directory);
            console.log(directory["Captain Fog"]);
            console.log(directory["vuln?"]);
            let test1 = directory["Captain Fog"];
            let test2 = directory["vuln?"];
            // merge(test1, test2);
            console.log(directory["Captain Fog"]);
            console.log(directory["vuln?"]);
        });
    </script>
    <a href="/">Back to Directory</a>
</body>
</html>